<!DOCTYPE html>
<html>
<head>
    <title>Counter-Steering Motorcycle</title>
    <style>
        body { margin: 0; background: #222; font-family: Arial; }
        canvas { display: block; }
        .controls { position: absolute; top: 20px; left: 20px; color: white; z-index: 100; }
    </style>
</head>
<body>
    <div class="controls">
        <h3>Controls</h3>
        <p>A - Counter-steer left</p>
        <p>D - Counter-steer right</p>
    </div>

    <script src="https://unpkg.com/three@0.158.0/build/three.min.js"></script>
    <script>
        console.log('Starting game...');
        
        // Check Three.js
        if (typeof THREE === 'undefined') {
            console.error('Three.js not loaded');
            document.body.innerHTML = '<h1 style="color:white;">Three.js failed to load</h1>';
            throw new Error('Three.js not available');
        }
        
        // Scene setup
        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x87CEEB);
        
        // Camera
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.set(0, 3, -8);
        
        // Renderer
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);
        
        // Lighting
        const ambientLight = new THREE.AmbientLight(0x404040, 0.6);
        scene.add(ambientLight);
        
        const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
        directionalLight.position.set(10, 10, 5);
        scene.add(directionalLight);
        
        // Ground
        const groundGeometry = new THREE.PlaneGeometry(100, 100);
        const groundMaterial = new THREE.MeshLambertMaterial({ color: 0x4a4a4a });
        const ground = new THREE.Mesh(groundGeometry, groundMaterial);
        ground.rotation.x = -Math.PI / 2;
        scene.add(ground);
        
        // Simple vehicle (just a box for now)
        const vehicleGeometry = new THREE.BoxGeometry(0.5, 0.5, 2);
        const vehicleMaterial = new THREE.MeshPhongMaterial({ color: 0x0066cc });
        const vehicle = new THREE.Mesh(vehicleGeometry, vehicleMaterial);
        vehicle.position.y = 0.5;
        scene.add(vehicle);
        
        // Input handling
        const keys = {};
        document.addEventListener('keydown', (e) => keys[e.code] = true);
        document.addEventListener('keyup', (e) => keys[e.code] = false);
        
        // Animation loop
        function animate() {
            requestAnimationFrame(animate);
            
            // Simple rotation for testing
            if (keys['KeyA']) vehicle.rotation.z += 0.02;
            if (keys['KeyD']) vehicle.rotation.z -= 0.02;
            
            camera.lookAt(vehicle.position);
            renderer.render(scene, camera);
        }
        
        console.log('Starting animation...');
        animate();
    </script>
</body>
</html>